{"ast":null,"code":"import { MatPaginator } from '@angular/material/paginator';\nimport { MatSort } from '@angular/material/sort';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { AddAssetCodeComponent } from '../add-asset-code/add-asset-code.component';\nimport { EditAssetCodeComponent } from '../edit-asset-code/edit-asset-code.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/assett-racking.service\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"@angular/material/snack-bar\";\nimport * as i4 from \"src/app/services/confirmation-dialog.service\";\n\nfunction AssetRegistrationComponent_mat_header_cell_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\", 27);\n    i0.ɵɵtext(1, \"Id \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AssetRegistrationComponent_mat_cell_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r16 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r16.id, \" \");\n  }\n}\n\nfunction AssetRegistrationComponent_mat_header_cell_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\", 27);\n    i0.ɵɵtext(1, \" Asset Code \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AssetRegistrationComponent_mat_cell_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r17 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r17.assetCode, \" \");\n  }\n}\n\nfunction AssetRegistrationComponent_mat_header_cell_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\", 27);\n    i0.ɵɵtext(1, \" Asset Description \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AssetRegistrationComponent_mat_cell_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r18 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r18.assetDescription, \" \");\n  }\n}\n\nfunction AssetRegistrationComponent_mat_header_cell_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\", 27);\n    i0.ɵɵtext(1, \" Location \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AssetRegistrationComponent_mat_cell_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r19 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r19.locationId, \" \");\n  }\n}\n\nfunction AssetRegistrationComponent_mat_header_cell_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\", 27);\n    i0.ɵɵtext(1, \" Status \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AssetRegistrationComponent_mat_cell_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r20 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r20.status ? \"Active\" : \"Inactive\", \" \");\n  }\n}\n\nfunction AssetRegistrationComponent_mat_header_cell_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\", 28);\n    i0.ɵɵtext(1, \" Actions \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AssetRegistrationComponent_mat_cell_38_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mat-cell\", 28);\n    i0.ɵɵelementStart(1, \"mat-icon\", 29);\n    i0.ɵɵlistener(\"click\", function AssetRegistrationComponent_mat_cell_38_Template_mat_icon_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r23);\n      const element_r21 = restoredCtx.$implicit;\n      const ctx_r22 = i0.ɵɵnextContext();\n      ctx_r22.pageState = \"Edit\";\n      return ctx_r22.editEmp(element_r21);\n    });\n    i0.ɵɵtext(2, \"edit \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"mat-icon\", 30);\n    i0.ɵɵlistener(\"click\", function AssetRegistrationComponent_mat_cell_38_Template_mat_icon_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r23);\n      const element_r21 = restoredCtx.$implicit;\n      const ctx_r24 = i0.ɵɵnextContext();\n      ctx_r24.pageState = \"Delete\";\n      return ctx_r24.deleteEmp(element_r21);\n    });\n    i0.ɵɵtext(4, \" delete \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AssetRegistrationComponent_mat_header_row_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-header-row\");\n  }\n}\n\nfunction AssetRegistrationComponent_mat_row_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-row\");\n  }\n}\n\nconst _c0 = function () {\n  return [5, 10, 20];\n};\n\nexport let AssetRegistrationComponent = /*#__PURE__*/(() => {\n  class AssetRegistrationComponent {\n    constructor(assetservice, dialog, _snackBar, assetService, confirmationDialogService) {\n      this.assetservice = assetservice;\n      this.dialog = dialog;\n      this._snackBar = _snackBar;\n      this.assetService = assetService;\n      this.confirmationDialogService = confirmationDialogService;\n      this.asset = [];\n      this.assetFilter = [];\n      this.status1 = 'true';\n      this.pageState = 'create';\n      this.assetData = new MatTableDataSource(this.asset);\n      this.displayedColumns = ['id', 'assetCode', 'assetDescription', 'locationId', 'status', 'actions'];\n    }\n\n    ngOnInit() {\n      this.GetData();\n    }\n\n    ngAfterViewInit() {\n      this.assetData.paginator = this.paginator;\n      this.assetData.sort = this.sort;\n    }\n\n    applyFilter(filterValue) {\n      filterValue = filterValue.trim(); // Remove whitespace\n\n      filterValue = filterValue.toLowerCase(); // Datasource defaults to lowercase matches\n\n      this.assetData.filter = filterValue;\n    }\n\n    GetData() {\n      const newDumper = {\n        status: this.status1\n      };\n      this.assetservice.getAssetMasters(newDumper).subscribe(dumperRecords => {\n        this.asset = dumperRecords['data'];\n        this.filterAssetData(this.status1);\n      });\n    }\n\n    addAsset() {\n      this.prermissionDialogRef = this.dialog.open(AddAssetCodeComponent, {\n        data: {\n          locationData: ''\n        },\n        disableClose: true,\n        panelClass: \"custommodal\",\n        width: '500px'\n      });\n      this.prermissionDialogRef = this.prermissionDialogRef.afterClosed().subscribe(result => {\n        if (result.status) {\n          if (result.message) {\n            this.GetData();\n            this.statusMessage(result.message, 'X');\n          }\n\n          this.dialog.closeAll();\n        }\n      });\n    }\n\n    someFucn() {\n      this.filterAssetData(this.status1);\n    }\n\n    editEmp(element) {\n      console.log(element);\n      this.prermissionDialogRef = this.dialog.open(EditAssetCodeComponent, {\n        data: {\n          assetData: element\n        },\n        disableClose: true,\n        panelClass: \"custommodal\",\n        width: '500px'\n      });\n      this.prermissionDialogRef = this.prermissionDialogRef.afterClosed().subscribe(result => {\n        if (result.status) {\n          if (result.message) {\n            this.GetData();\n            this.statusMessage(result.message, 'X');\n          }\n\n          this.dialog.closeAll();\n        }\n      });\n    }\n\n    deleteEmp(element) {\n      //element['status'] = 0;\n      this.confirmationDialogService.confirm('Please confirm..', 'Are you sure you want to delete this item?').then(confirmed => this.DeleteData(element, confirmed)).catch(() => console.log('User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)'));\n    }\n\n    DeleteData(element1, confirmed) {\n      if (confirmed == true) {\n        this.assetService.deleteAssets(element1).subscribe(data => {\n          if (data.status) {\n            this.statusMessage(\"Asset Deleted Successfull\", \"ok\");\n            this.GetData();\n          }\n        }, err => {\n          console.log('not saved', err);\n        });\n      }\n    }\n\n    statusMessage(message, action) {\n      this._snackBar.open(message, action, {\n        duration: 3000\n      });\n    }\n\n    filterAssetData(recordFilter) {\n      if (recordFilter == null) {\n        this.assetData.data = this.asset;\n      } else {\n        let assetFilterData = [];\n        this.asset.forEach(assetItem => {\n          if (recordFilter == true) {\n            recordFilter = 1;\n          } else {\n            recordFilter = 0;\n          }\n\n          if (recordFilter == assetItem.status) {\n            assetFilterData.push(assetItem);\n          }\n        });\n        this.assetData.data = assetFilterData;\n      }\n    }\n\n  }\n\n  AssetRegistrationComponent.ɵfac = function AssetRegistrationComponent_Factory(t) {\n    return new (t || AssetRegistrationComponent)(i0.ɵɵdirectiveInject(i1.AssettRackingService), i0.ɵɵdirectiveInject(i2.MatDialog), i0.ɵɵdirectiveInject(i3.MatSnackBar), i0.ɵɵdirectiveInject(i1.AssettRackingService), i0.ɵɵdirectiveInject(i4.ConfirmationDialogService));\n  };\n\n  AssetRegistrationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AssetRegistrationComponent,\n    selectors: [[\"app-asset-registration\"]],\n    viewQuery: function AssetRegistrationComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(MatPaginator, 5);\n        i0.ɵɵviewQuery(MatSort, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sort = _t.first);\n      }\n    },\n    decls: 44,\n    vars: 9,\n    consts: [[1, \"mat-card-page\"], [1, \"mat-card-header-page\"], [1, \"mat-card-title-page\", \"header-valign\"], [1, \"mat-card-content-page\", \"p-2\"], [1, \"row\", \"m-0\", \"p-0\"], [1, \"col-12\"], [\"appearance\", \"outline\", 1, \"col-2\", \"m-2\"], [\"matInput\", \"\", \"name\", \"input_status\", \"ngModel\", \"\", 1, \"m-2\", 3, \"ngModel\", \"change\", \"ngModelChange\"], [\"matInput\", \"\", \"autocomplete\", \"off\", \"name\", \"input_status\", \"ngModel\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"mat-raised-button\", \"\", 1, \"col-4\", \"btn-search\", \"float-right\", 3, \"click\"], [1, \"row\"], [\"matSort\", \"\", 3, \"dataSource\"], [\"table\", \"\"], [\"matColumnDef\", \"id\"], [\"mat-sort-header\", \"\", 4, \"matHeaderCellDef\"], [4, \"matCellDef\"], [\"matColumnDef\", \"assetCode\"], [\"matColumnDef\", \"assetDescription\"], [\"matColumnDef\", \"locationId\"], [\"matColumnDef\", \"status\"], [\"matColumnDef\", \"actions\"], [\"class\", \"px-1 descriptive-info-second\", 4, \"matHeaderCellDef\"], [\"class\", \"px-1 descriptive-info-second\", 4, \"matCellDef\"], [4, \"matHeaderRowDef\"], [4, \"matRowDef\", \"matRowDefColumns\"], [3, \"pageSize\", \"pageSizeOptions\", \"showFirstLastButtons\"], [\"paginator\", \"\"], [\"mat-sort-header\", \"\"], [1, \"px-1\", \"descriptive-info-second\"], [\"matTooltip\", \"edit\", \"cursor\", \"pointer\", 3, \"click\"], [\"matTooltip\", \"delete\", \"cursor\", \"pointer\", 3, \"click\"]],\n    template: function AssetRegistrationComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"mat-card\", 0);\n        i0.ɵɵelementStart(1, \"mat-card-header\", 1);\n        i0.ɵɵelementStart(2, \"mat-card-title\", 2);\n        i0.ɵɵelementStart(3, \"mat-icon\");\n        i0.ɵɵtext(4, \"library_add\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(5, \" Asset Registration \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"mat-card-content\", 3);\n        i0.ɵɵelementStart(7, \"div\", 4);\n        i0.ɵɵelementStart(8, \"div\", 5);\n        i0.ɵɵelementStart(9, \"mat-form-field\", 6);\n        i0.ɵɵelementStart(10, \"mat-label\");\n        i0.ɵɵtext(11, \"Active/InActive\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"mat-slide-toggle\", 7);\n        i0.ɵɵlistener(\"change\", function AssetRegistrationComponent_Template_mat_slide_toggle_change_12_listener() {\n          return ctx.someFucn();\n        })(\"ngModelChange\", function AssetRegistrationComponent_Template_mat_slide_toggle_ngModelChange_12_listener($event) {\n          return ctx.status1 = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"input\", 8);\n        i0.ɵɵlistener(\"ngModelChange\", function AssetRegistrationComponent_Template_input_ngModelChange_13_listener($event) {\n          return ctx.status1 = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"button\", 9);\n        i0.ɵɵlistener(\"click\", function AssetRegistrationComponent_Template_button_click_14_listener() {\n          return ctx.addAsset();\n        });\n        i0.ɵɵelementStart(15, \"mat-icon\");\n        i0.ɵɵtext(16, \"add\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 10);\n        i0.ɵɵelementStart(18, \"div\", 5);\n        i0.ɵɵelementStart(19, \"mat-table\", 11, 12);\n        i0.ɵɵelementContainerStart(21, 13);\n        i0.ɵɵtemplate(22, AssetRegistrationComponent_mat_header_cell_22_Template, 2, 0, \"mat-header-cell\", 14);\n        i0.ɵɵtemplate(23, AssetRegistrationComponent_mat_cell_23_Template, 2, 1, \"mat-cell\", 15);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(24, 16);\n        i0.ɵɵtemplate(25, AssetRegistrationComponent_mat_header_cell_25_Template, 2, 0, \"mat-header-cell\", 14);\n        i0.ɵɵtemplate(26, AssetRegistrationComponent_mat_cell_26_Template, 2, 1, \"mat-cell\", 15);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(27, 17);\n        i0.ɵɵtemplate(28, AssetRegistrationComponent_mat_header_cell_28_Template, 2, 0, \"mat-header-cell\", 14);\n        i0.ɵɵtemplate(29, AssetRegistrationComponent_mat_cell_29_Template, 2, 1, \"mat-cell\", 15);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(30, 18);\n        i0.ɵɵtemplate(31, AssetRegistrationComponent_mat_header_cell_31_Template, 2, 0, \"mat-header-cell\", 14);\n        i0.ɵɵtemplate(32, AssetRegistrationComponent_mat_cell_32_Template, 2, 1, \"mat-cell\", 15);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(33, 19);\n        i0.ɵɵtemplate(34, AssetRegistrationComponent_mat_header_cell_34_Template, 2, 0, \"mat-header-cell\", 14);\n        i0.ɵɵtemplate(35, AssetRegistrationComponent_mat_cell_35_Template, 2, 1, \"mat-cell\", 15);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(36, 20);\n        i0.ɵɵtemplate(37, AssetRegistrationComponent_mat_header_cell_37_Template, 2, 0, \"mat-header-cell\", 21);\n        i0.ɵɵtemplate(38, AssetRegistrationComponent_mat_cell_38_Template, 5, 0, \"mat-cell\", 22);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(39, AssetRegistrationComponent_mat_header_row_39_Template, 1, 0, \"mat-header-row\", 23);\n        i0.ɵɵtemplate(40, AssetRegistrationComponent_mat_row_40_Template, 1, 0, \"mat-row\", 24);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(41, \"mat-paginator\", 25, 26);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(43, \"mat-card-footer\");\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"ngModel\", ctx.status1);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.status1);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"dataSource\", ctx.assetData);\n        i0.ɵɵadvance(20);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"pageSize\", 5)(\"pageSizeOptions\", i0.ɵɵpureFunction0(8, _c0))(\"showFirstLastButtons\", true);\n      }\n    },\n    styles: [\"\"]\n  });\n  return AssetRegistrationComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}