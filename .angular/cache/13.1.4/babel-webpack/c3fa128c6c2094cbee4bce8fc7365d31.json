{"ast":null,"code":"import { MatPaginator } from '@angular/material/paginator';\nimport { MatSort } from '@angular/material/sort';\nimport { MatTableDataSource } from '@angular/material/table';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/assett-racking.service\";\n\nfunction AssetTrackingComponent_mat_header_cell_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\", 23);\n    i0.ɵɵtext(1, \" Asset Code \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AssetTrackingComponent_mat_cell_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r14 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r14.asset_Code, \" \");\n  }\n}\n\nfunction AssetTrackingComponent_mat_header_cell_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\", 23);\n    i0.ɵɵtext(1, \" Asset Description \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AssetTrackingComponent_mat_cell_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r15 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r15.asset_Description, \" \");\n  }\n}\n\nfunction AssetTrackingComponent_mat_header_cell_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\", 23);\n    i0.ɵɵtext(1, \" Room ID \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AssetTrackingComponent_mat_cell_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r16 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r16.room_Id, \" \");\n  }\n}\n\nfunction AssetTrackingComponent_mat_header_cell_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\", 23);\n    i0.ɵɵtext(1, \" Room \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AssetTrackingComponent_mat_cell_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r17 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r17.room, \" \");\n  }\n}\n\nfunction AssetTrackingComponent_mat_header_row_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-header-row\");\n  }\n}\n\nfunction AssetTrackingComponent_mat_row_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-row\");\n  }\n}\n\nfunction AssetTrackingComponent_mat_row_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-row\", 24);\n    i0.ɵɵelementStart(1, \"p\", 25);\n    i0.ɵɵtext(2, \"No data matching the filter.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function () {\n  return [5, 10, 20];\n};\n\nexport let AssetTrackingComponent = /*#__PURE__*/(() => {\n  class AssetTrackingComponent {\n    constructor(assetservice) {\n      this.assetservice = assetservice;\n      this.displayedColumns = ['asset_Code', 'asset_Description', 'room_Id', 'room'];\n      this.asset = [];\n      this.assetData = new MatTableDataSource(this.asset);\n    }\n\n    ngOnInit() {\n      this.getData();\n\n      this.assetData.filterPredicate = (data, filtersJson) => {\n        const matchFilter = [];\n        console.log(filtersJson);\n        const filters = JSON.parse(filtersJson);\n        console.log(filters);\n        filters.forEach(filter => {\n          const val = data[filter.id] === null ? '' : data[filter.id];\n          console.log(val);\n          matchFilter.push(val.toLowerCase().includes(filter.value.toLowerCase()));\n        });\n        return matchFilter.every(Boolean);\n      };\n    }\n\n    ngAfterViewInit() {\n      this.assetData.paginator = this.paginator;\n      this.assetData.sort = this.sort;\n    }\n\n    getData() {\n      this.assetservice.getAssetTrackingDetails().subscribe(data => {\n        this.assetData.data = data['data'];\n      });\n    }\n\n    applyFilter(event) {\n      const tableFilters = [];\n      let filterValue = event.target.value;\n      tableFilters.push({\n        id: 'asset_Code',\n        value: filterValue\n      }); // tableFilters.push({\n      //   id: 'room_Id',\n      //   value: filterValue\n      // });\n\n      this.assetData.filter = JSON.stringify(tableFilters);\n\n      if (this.assetData.paginator) {\n        this.assetData.paginator.firstPage();\n      }\n    }\n\n  }\n\n  AssetTrackingComponent.ɵfac = function AssetTrackingComponent_Factory(t) {\n    return new (t || AssetTrackingComponent)(i0.ɵɵdirectiveInject(i1.AssettRackingService));\n  };\n\n  AssetTrackingComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AssetTrackingComponent,\n    selectors: [[\"app-asset-tracking\"]],\n    viewQuery: function AssetTrackingComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(MatPaginator, 5);\n        i0.ɵɵviewQuery(MatSort, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sort = _t.first);\n      }\n    },\n    decls: 34,\n    vars: 8,\n    consts: [[1, \"mat-card-page\"], [1, \"mat-card-header-page\"], [1, \"mat-card-title-page\"], [1, \"mat-card-content-page\", \"p-2\"], [1, \"row\", \"m-0\", \"p-0\"], [\"appearance\", \"outline\", 1, \"col-4\"], [\"matInput\", \"\", \"appearance\", \"outline\", \"placeholder\", \"Search by Asset Code\", 3, \"autocomplete\", \"keyup\"], [\"input\", \"\"], [1, \"row\"], [1, \"col-12\"], [\"matSort\", \"\", 3, \"dataSource\"], [\"table\", \"\"], [\"matColumnDef\", \"asset_Code\"], [\"mat-sort-header\", \"\", 4, \"matHeaderCellDef\"], [4, \"matCellDef\"], [\"matColumnDef\", \"asset_Description\"], [\"matColumnDef\", \"room_Id\"], [\"matColumnDef\", \"room\"], [4, \"matHeaderRowDef\"], [4, \"matRowDef\", \"matRowDefColumns\"], [\"class\", \"mat-row\", 4, \"matNoDataRow\"], [3, \"pageSize\", \"pageSizeOptions\", \"showFirstLastButtons\"], [\"paginator\", \"\"], [\"mat-sort-header\", \"\"], [1, \"mat-row\"], [\"colspan\", \"4\", 1, \"mat-cell\"]],\n    template: function AssetTrackingComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"mat-card\", 0);\n        i0.ɵɵelementStart(1, \"mat-card-header\", 1);\n        i0.ɵɵelementStart(2, \"mat-card-title\", 2);\n        i0.ɵɵelementStart(3, \"mat-icon\");\n        i0.ɵɵtext(4, \"windows\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(5, \" Asset Tracking \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"mat-card-content\", 3);\n        i0.ɵɵelementStart(7, \"div\", 4);\n        i0.ɵɵelementStart(8, \"mat-form-field\", 5);\n        i0.ɵɵelementStart(9, \"mat-label\");\n        i0.ɵɵtext(10, \"Search by Asset Code\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"input\", 6, 7);\n        i0.ɵɵlistener(\"keyup\", function AssetTrackingComponent_Template_input_keyup_11_listener($event) {\n          return ctx.applyFilter($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 8);\n        i0.ɵɵelementStart(14, \"div\", 9);\n        i0.ɵɵelementStart(15, \"mat-table\", 10, 11);\n        i0.ɵɵelementContainerStart(17, 12);\n        i0.ɵɵtemplate(18, AssetTrackingComponent_mat_header_cell_18_Template, 2, 0, \"mat-header-cell\", 13);\n        i0.ɵɵtemplate(19, AssetTrackingComponent_mat_cell_19_Template, 2, 1, \"mat-cell\", 14);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(20, 15);\n        i0.ɵɵtemplate(21, AssetTrackingComponent_mat_header_cell_21_Template, 2, 0, \"mat-header-cell\", 13);\n        i0.ɵɵtemplate(22, AssetTrackingComponent_mat_cell_22_Template, 2, 1, \"mat-cell\", 14);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(23, 16);\n        i0.ɵɵtemplate(24, AssetTrackingComponent_mat_header_cell_24_Template, 2, 0, \"mat-header-cell\", 13);\n        i0.ɵɵtemplate(25, AssetTrackingComponent_mat_cell_25_Template, 2, 1, \"mat-cell\", 14);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(26, 17);\n        i0.ɵɵtemplate(27, AssetTrackingComponent_mat_header_cell_27_Template, 2, 0, \"mat-header-cell\", 13);\n        i0.ɵɵtemplate(28, AssetTrackingComponent_mat_cell_28_Template, 2, 1, \"mat-cell\", 14);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(29, AssetTrackingComponent_mat_header_row_29_Template, 1, 0, \"mat-header-row\", 18);\n        i0.ɵɵtemplate(30, AssetTrackingComponent_mat_row_30_Template, 1, 0, \"mat-row\", 19);\n        i0.ɵɵtemplate(31, AssetTrackingComponent_mat_row_31_Template, 3, 0, \"mat-row\", 20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(32, \"mat-paginator\", 21, 22);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"autocomplete\", false);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"dataSource\", ctx.assetData);\n        i0.ɵɵadvance(14);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"pageSize\", 10)(\"pageSizeOptions\", i0.ɵɵpureFunction0(7, _c0))(\"showFirstLastButtons\", true);\n      }\n    },\n    styles: [\".table-dropdown[_ngcontent-%COMP%]{background:#444;color:#fff;font-size:14px;font-weight:700;cursor:pointer;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\",Segoe UI Symbol}\"]\n  });\n  return AssetTrackingComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}