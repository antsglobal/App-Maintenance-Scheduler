{"ast":null,"code":"import { MatTableDataSource } from '@angular/material/table';\nimport { MatSort } from '@angular/material/sort';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { CreateLocationComponent } from './create-location/create-location.component';\nimport { EditLocationComponent } from './edit-location/edit-location.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/assett-racking.service\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"@angular/material/snack-bar\";\n\nfunction LocationMappingComponent_mat_header_cell_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\", 24);\n    i0.ɵɵtext(1, \" RFID Reader Code \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LocationMappingComponent_mat_cell_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r15 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r15.rFIDReaderCode, \" \");\n  }\n}\n\nfunction LocationMappingComponent_mat_header_cell_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\", 24);\n    i0.ɵɵtext(1, \" Location \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LocationMappingComponent_mat_cell_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r16 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r16.locationDescription, \" \");\n  }\n}\n\nfunction LocationMappingComponent_mat_header_cell_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\", 24);\n    i0.ɵɵtext(1, \" CH Antenna \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LocationMappingComponent_mat_cell_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r17 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r17.chAntenna, \" \");\n  }\n}\n\nfunction LocationMappingComponent_mat_header_cell_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\", 24);\n    i0.ɵɵtext(1, \" Sub CH \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LocationMappingComponent_mat_cell_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r18 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r18.subch, \" \");\n  }\n}\n\nfunction LocationMappingComponent_mat_header_cell_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\", 25);\n    i0.ɵɵtext(1, \" Actions \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LocationMappingComponent_mat_cell_30_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mat-cell\", 25);\n    i0.ɵɵelementStart(1, \"mat-icon\", 26);\n    i0.ɵɵlistener(\"click\", function LocationMappingComponent_mat_cell_30_Template_mat_icon_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r21);\n      const element_r19 = restoredCtx.$implicit;\n      const ctx_r20 = i0.ɵɵnextContext();\n      ctx_r20.pageState = \"Edit\";\n      return ctx_r20.editEmp(element_r19);\n    });\n    i0.ɵɵtext(2, \"edit \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LocationMappingComponent_mat_header_row_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-header-row\");\n  }\n}\n\nfunction LocationMappingComponent_mat_row_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-row\");\n  }\n}\n\nfunction LocationMappingComponent_mat_row_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-row\", 27);\n    i0.ɵɵelementStart(1, \"p\", 28);\n    i0.ɵɵtext(2, \"No data matching the filter.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function () {\n  return [5, 10, 20];\n};\n\nexport let LocationMappingComponent = /*#__PURE__*/(() => {\n  class LocationMappingComponent {\n    constructor(assetService, dialog, _snackBar) {\n      this.assetService = assetService;\n      this.dialog = dialog;\n      this._snackBar = _snackBar;\n      this.displayedColumns = ['rFIDReaderCode', 'locationDescription', 'chAntenna', 'subch', 'actions'];\n      this.locationDataSource = new MatTableDataSource();\n      this.pageState = 'create';\n    }\n\n    ngOnInit() {\n      this.getData();\n    }\n\n    ngAfterViewInit() {\n      this.locationDataSource.paginator = this.paginator;\n      this.locationDataSource.sort = this.sort;\n    }\n\n    getData() {\n      this.locationDataSourceSub = this.assetService.getLocationMappingList().subscribe(data => {\n        this.locationDataSource.data = data['data'];\n      });\n    }\n\n    addLocation() {\n      this.prermissionDialogRef = this.dialog.open(CreateLocationComponent, {\n        data: {\n          locationData: ''\n        },\n        disableClose: true,\n        panelClass: \"custommodal\",\n        width: '500px'\n      });\n      this.prermissionDialogRef = this.prermissionDialogRef.afterClosed().subscribe(result => {\n        if (result.status) {\n          if (result.message) {\n            this.getData();\n            this.statusMessage(result.message, 'X');\n          }\n\n          this.dialog.closeAll();\n        }\n      });\n    }\n\n    statusMessage(message, action) {\n      this._snackBar.open(message, action, {\n        duration: 3000\n      });\n    }\n\n    editEmp(element) {\n      this.prermissionDialogRef = this.dialog.open(EditLocationComponent, {\n        data: {\n          locationData: element\n        },\n        disableClose: true,\n        panelClass: \"custommodal\",\n        width: '500px'\n      });\n      this.prermissionDialogRef = this.prermissionDialogRef.afterClosed().subscribe(result => {\n        if (result.status) {\n          if (result.message) {\n            this.getData();\n            this.statusMessage(result.message, 'X');\n          }\n\n          this.dialog.closeAll();\n        }\n      });\n    }\n\n    ngOnDestroy() {\n      if (this.locationDataSourceSub) this.locationDataSourceSub.unsubscribe();\n    }\n\n  }\n\n  LocationMappingComponent.ɵfac = function LocationMappingComponent_Factory(t) {\n    return new (t || LocationMappingComponent)(i0.ɵɵdirectiveInject(i1.AssettRackingService), i0.ɵɵdirectiveInject(i2.MatDialog), i0.ɵɵdirectiveInject(i3.MatSnackBar));\n  };\n\n  LocationMappingComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LocationMappingComponent,\n    selectors: [[\"app-location-mapping\"]],\n    viewQuery: function LocationMappingComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(MatPaginator, 5);\n        i0.ɵɵviewQuery(MatSort, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sort = _t.first);\n      }\n    },\n    decls: 37,\n    vars: 7,\n    consts: [[1, \"mat-card-page\"], [1, \"mat-card-header-page\"], [1, \"mat-card-title-page\"], [1, \"mat-card-content-page\", \"p-2\"], [1, \"row\", \"m-0\", \"p-0\"], [1, \"col-12\"], [\"mat-raised-button\", \"\", 1, \"btn-search\", \"float-right\", 3, \"click\"], [1, \"row\"], [\"matSort\", \"\", 3, \"dataSource\"], [\"table\", \"\"], [\"matColumnDef\", \"rFIDReaderCode\"], [\"mat-sort-header\", \"\", 4, \"matHeaderCellDef\"], [4, \"matCellDef\"], [\"matColumnDef\", \"locationDescription\"], [\"matColumnDef\", \"chAntenna\"], [\"matColumnDef\", \"subch\"], [\"matColumnDef\", \"actions\"], [\"class\", \"px-1 descriptive-info-second\", 4, \"matHeaderCellDef\"], [\"class\", \"px-1 descriptive-info-second\", 4, \"matCellDef\"], [4, \"matHeaderRowDef\"], [4, \"matRowDef\", \"matRowDefColumns\"], [\"class\", \"mat-row\", 4, \"matNoDataRow\"], [3, \"pageSize\", \"pageSizeOptions\", \"showFirstLastButtons\"], [\"paginator\", \"\"], [\"mat-sort-header\", \"\"], [1, \"px-1\", \"descriptive-info-second\"], [\"matTooltip\", \"edit\", \"cursor\", \"pointer\", 3, \"click\"], [1, \"mat-row\"], [\"colspan\", \"4\", 1, \"mat-cell\"]],\n    template: function LocationMappingComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"mat-card\", 0);\n        i0.ɵɵelementStart(1, \"mat-card-header\", 1);\n        i0.ɵɵelementStart(2, \"mat-card-title\", 2);\n        i0.ɵɵelementStart(3, \"mat-icon\");\n        i0.ɵɵtext(4, \"gps_fixed\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(5, \" Location Mapping \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"mat-card-content\", 3);\n        i0.ɵɵelementStart(7, \"div\", 4);\n        i0.ɵɵelementStart(8, \"div\", 5);\n        i0.ɵɵelementStart(9, \"button\", 6);\n        i0.ɵɵlistener(\"click\", function LocationMappingComponent_Template_button_click_9_listener() {\n          return ctx.addLocation();\n        });\n        i0.ɵɵelementStart(10, \"mat-icon\");\n        i0.ɵɵtext(11, \"add\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\", 7);\n        i0.ɵɵelementStart(13, \"div\", 5);\n        i0.ɵɵelementStart(14, \"mat-table\", 8, 9);\n        i0.ɵɵelementContainerStart(16, 10);\n        i0.ɵɵtemplate(17, LocationMappingComponent_mat_header_cell_17_Template, 2, 0, \"mat-header-cell\", 11);\n        i0.ɵɵtemplate(18, LocationMappingComponent_mat_cell_18_Template, 2, 1, \"mat-cell\", 12);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(19, 13);\n        i0.ɵɵtemplate(20, LocationMappingComponent_mat_header_cell_20_Template, 2, 0, \"mat-header-cell\", 11);\n        i0.ɵɵtemplate(21, LocationMappingComponent_mat_cell_21_Template, 2, 1, \"mat-cell\", 12);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(22, 14);\n        i0.ɵɵtemplate(23, LocationMappingComponent_mat_header_cell_23_Template, 2, 0, \"mat-header-cell\", 11);\n        i0.ɵɵtemplate(24, LocationMappingComponent_mat_cell_24_Template, 2, 1, \"mat-cell\", 12);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(25, 15);\n        i0.ɵɵtemplate(26, LocationMappingComponent_mat_header_cell_26_Template, 2, 0, \"mat-header-cell\", 11);\n        i0.ɵɵtemplate(27, LocationMappingComponent_mat_cell_27_Template, 2, 1, \"mat-cell\", 12);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(28, 16);\n        i0.ɵɵtemplate(29, LocationMappingComponent_mat_header_cell_29_Template, 2, 0, \"mat-header-cell\", 17);\n        i0.ɵɵtemplate(30, LocationMappingComponent_mat_cell_30_Template, 3, 0, \"mat-cell\", 18);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(31, LocationMappingComponent_mat_header_row_31_Template, 1, 0, \"mat-header-row\", 19);\n        i0.ɵɵtemplate(32, LocationMappingComponent_mat_row_32_Template, 1, 0, \"mat-row\", 20);\n        i0.ɵɵtemplate(33, LocationMappingComponent_mat_row_33_Template, 3, 0, \"mat-row\", 21);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(34, \"mat-paginator\", 22, 23);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(36, \"mat-card-footer\");\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(14);\n        i0.ɵɵproperty(\"dataSource\", ctx.locationDataSource);\n        i0.ɵɵadvance(17);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"pageSize\", 5)(\"pageSizeOptions\", i0.ɵɵpureFunction0(6, _c0))(\"showFirstLastButtons\", true);\n      }\n    },\n    styles: [\"\"]\n  });\n  return LocationMappingComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}